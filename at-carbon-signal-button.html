<link rel="import" href="../tangere/tangere.html">
<link rel="import" href="../at-i18n/at-i18n-behavior.html">
<link rel="import" href="../at-theme/at-theme.html">
<link rel="import" href="../at-carbon-button/at-carbon-button.html">
<link rel="import" href="../at-carbon-icon-button/at-carbon-icon-button.html">

<dom-module id="at-carbon-signal-button">
  <template>
    <style include="at-form-common"></style>
    <style>

      :host {
        display: inline-block;
        position: relative;
      }

      at-carbon-button {
        color: var(--at-background-text-color) !important;
      }
      /*.background-green {
        background-color: var(--at-green);
      }

      .color-white {
        color: #FFFFFF;
      }

      .color-black {
        color: #000000;
      }

      at-carbon-icon-button {
        vertical-align: middle;
        padding: 4px;
      }

      iron-label {
        vertical-align: middle;
        line-height: 1;
        margin-right: 0.29em;
      }*/
    </style>

    <at-carbon-button id="button" on-click="ignoreEvent" on-tap="ontap" disabled$="[[disabled]]">
      <iron-label id="submitLabel" disabled$="[[disabled]]">
        <content></content>
      </iron-label>
    </at-carbon-button>
  </template>
  <script>
    'use strict';
    Polymer({
      is: 'at-carbon-signal-button',
      behaviors: [Tangere.behaviors.i18n],
      properties: {
        disabled: {
          type: Boolean,
          value: false,
          observer: 'disabledChanged'
        },
        signal: {
          type: String,
          value: '',
          notify: true
        },
        signalData: {
          type: String,
          value: '',
          notify: true
        }
      },

      ontap: function (e) {
        if (this.signal) {
          var arg = { data: this.signalData, sender: this };
          Polymer.signal(this.signal, arg);
          e.preventDefault();
          e.stopPropagation();
          return false;
        }
      },
      ignoreEvent: function (e) {
        e.preventDefault();
        e.stopPropagation();
        return false;
      },
      ready: function () {
      },
      disabledChanged: function (newValue, oldValue) {

      }
    });
  </script>
</dom-module>
